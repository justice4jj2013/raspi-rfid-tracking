d1 = as.matrix(read.table("rssi.distance.3m.nlos.0deg"))
d2 = as.matrix(read.table("rssi.distance.3m.nlos.45deg"))
d3 = as.matrix(read.table("rssi.distance.3m.nlos.90deg"))
d4 = as.matrix(read.table("rssi.distance.3m.nlos.135deg"))
d5 = as.matrix(read.table("rssi.distance.3m.nlos.180deg"))
d6 = as.matrix(read.table("rssi.distance.3m.nlos.225deg"))
d7 = as.matrix(read.table("rssi.distance.3m.nlos.270deg"))
d8 = as.matrix(read.table("rssi.distance.3m.nlos.315deg"))

x1 = seq(0.5, 3, by=.5)
x1range = range(x1)
y1range = range(d1[,1], d2[,1], d3[,1], d4[,1], d5[,1], d6[,1], d7[,1], d8[,1])

cols = c("red", "green", "blue", "brown")

pdf("rssi_distance_3m_nlos_r1.pdf", width=10, height=5)

plot(x1range, y1range, type="n", xlab="Distance (m)", ylab="RSSI (unitless)")
lines(x1, d1[,1], type="b", pch=1, col=cols[1])
lines(x1, d2[,1], type="b", pch=2, col=cols[2])
lines(x1, d3[,1], type="b", pch=3, col=cols[3])
lines(x1, d4[,1], type="b", pch=4, col=cols[4])
lines(x1, d5[,1], type="b", pch=1, lty=2, col=cols[1])
lines(x1, d6[,1], type="b", pch=2, lty=2, col=cols[2])
lines(x1, d7[,1], type="b", pch=3, lty=2, col=cols[3])
lines(x1, d8[,1], type="b", pch=4, lty=2, col=cols[4])

title("Non-line-of-sight for the first reader")
legend("topright", c("0","45","90","135","180","225","270","315"), lty=c(1,1,1,1,2,2,2,2), pch=1:4, title="Orientations", col=cols, ncol=2)
#legend(x=2.2, y=76.1, c("0","45","90","135","180","225","270","315"), lty=c(1,1,1,1,2,2,2,2), pch=1:4, title="Orientations", col=cols, ncol=2)

#plot(x2range, y2range, type="n", xlab="Distance (m)", ylab="RSSI (unitless)")
#attach(d2)
#lines(x2, r11, type="b", pch=1, col=cols[1])
#lines(x2, r12, type="b", pch=2, col=cols[2])
#lines(x2, r13, type="b", pch=3, col=cols[3])
#title(paste("Non-line-of-sight at", deg, "degrees"))
#legend("topright", c("1","2","3"), pch=1:3, title="Readers", col=cols)

dev.off()
